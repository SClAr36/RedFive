    ws.onmessage = (e) => log.textContent += "📩 收到消息: " + e.data + "\n";


ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      if (data.type === "hand") {
        const handDiv = document.getElementById('hand');
        handDiv.innerHTML = ""; // 清空手牌按钮
        data.cards.forEach(card => {
          const button = document.createElement('button');
          button.textContent = card;
          button.onclick = () => playCard(card);
          handDiv.appendChild(button);
        });
      } else if (data.type === "play_card") {
          log.textContent += "🃏 你出了牌: " + data.cards.join(', ') + "\n";
        } else {
            log.textContent += "📩 收到: " + event.data + "\n";
      } 
    };